Procedure
Consider table Student (Roll, Name, Attendance ,Status)
Write a PL/SQL block for following requirements and handle the exceptions. Roll no. of students will be
entered by the user. Attendance of roll no. entered by user will be checked in the Stud table. If
attendance is less than 75% then display the message “Term not granted” and set the status in stud
table as “Detained”. Otherwise display message “Term granted” and set the status in stud table as “Not
Detained”
----------------------------------------------------------------------------------------


CREATE TABLE STUDENT
(
	ROLL NUMBER(5) PRIMARY KEY,
	NAME VARCHAR2(20) NOT NULL,
	ATTENDANCE FLOAT,
	STATUS VARCHAR2(12) DEFAULT 'NOT SET'
);

INSERT INTO STUDENT(ROLL,NAME,ATTENDANCE) VALUES(1,'VAIBHAV',88);
INSERT INTO STUDENT(ROLL,NAME,ATTENDANCE) VALUES(2,'NAYAN',78);
INSERT INTO STUDENT(ROLL,NAME,ATTENDANCE) VALUES(3,'OM',64);
INSERT INTO STUDENT(ROLL,NAME,ATTENDANCE) VALUES(4,'SHARDUL',57);
INSERT INTO STUDENT(ROLL,NAME,ATTENDANCE) VALUES(5,'PRANAY',70);
INSERT INTO STUDENT(ROLL,NAME,ATTENDANCE) VALUES(6,'VAIBHAV',55);
INSERT INTO STUDENT(ROLL,NAME,ATTENDANCE) VALUES(7,'ANJALI',60);
INSERT INTO STUDENT(ROLL,NAME,ATTENDANCE) VALUES(8,'NAINA',95);
INSERT INTO STUDENT(ROLL,NAME,ATTENDANCE) VALUES(9,'JANHAVI',92);

DECLARE
	ROLLNO STUDENT.ROLL%TYPE;
	ATT STUDENT.ATTENDANCE%TYPE;
	STATE STUDENT.STATUS%TYPE;
BEGIN
	ROLLNO := &ROLLNO;
	SELECT ATTENDANCE,STATUS INTO ATT,STATE FROM STUDENT WHERE ROLL = ROLLNO;
	IF(STATE = 'NOT SET') THEN
		IF(ATT >= 75) THEN
			DBMS_OUTPUT.PUT_LINE('TERM GRANTED!');
			UPDATE STUDENT SET STATUS = 'NOT DETAINED' WHERE ROLL = ROLLNO;
		ELSE
			DBMS_OUTPUT.PUT_LINE('TERM NOT GRANTED!');
			UPDATE STUDENT SET STATUS = 'DETAINED' WHERE ROLL = ROLLNO;
		END IF;
	ELSE
		DBMS_OUTPUT.PUT_LINE('STATUS IS ALREADY UPDATED!');
	END IF;
EXCEPTION
	WHEN NO_DATA_FOUND THEN
		DBMS_OUTPUT.PUT_LINE('NO DATA FOUND!');
	WHEN OTHERS THEN
		DBMS_OUTPUT.PUT_LINE('SOME EXCEPTION OCCURS!');
END;
/